<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:insert="~{layout/headerFooterDynamicLayout.html}">
<main th:fragment = "content">



<!--    OFFCANVAS-->

    <!-- Off-Canvas for Editing DO -->
    <!-- Off-Canvas for Adding New DO -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="addNewDoOffcanvas" aria-labelledby="addNewDoOffcanvasLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="addNewDoOffcanvasLabel">Add New Designated Offices</h5>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <form autocomplete="off" id="adddos" enctype="multipart/form-data">
                <!-- DO Name Field -->
                <div class="form-group mb-3">
                    <label>Office Name:</label>
                    <input id="new_officename" class="form-control" placeholder="Enter DO Name" required="true" />
                </div>

                <!-- Officer Name Field -->
                <div class="form-group mb-3">
                    <label>Officer Name:</label>
                    <input id="new_officername" class="form-control" placeholder="Enter Officer Name" required="true" />
                </div>

                <!-- Email Field -->
                <div class="form-group mb-3">
                    <label>Email:</label>
                    <input id="new_email" class="form-control" placeholder="Enter Email" required="true" />
                </div>

                <!-- Mobile Field -->
                <div class="form-group mb-3">
                    <label>Mobile:</label>
                    <input id="new_mobile" class="form-control" placeholder="Enter Mobile" required="true" />
                </div>

                <!-- Submit Button -->
                <div class="container text-center">
                    <button type="submit" class="btn btn-primary px-5" id="addNewDO">Add DO</button>
                </div>
            </form>
        </div>
    </div>



    <!-- Modal for Editing DO (wrapped form inside the modal) -->
    <div class="modal fade" id="editAppelateModal" tabindex="-1" aria-labelledby="editAppelateModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content shadow-lg rounded-3">
                <div class="modal-header">
                    <h5 class="modal-title" id="editAppelateModalLabel">Edit DO</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-4">
                    <form autocomplete="off" id="dos" enctype="multipart/form-data">
                        <!-- DO Name Field -->
                        <div class="form-group mb-3">
                            <label>Office Name:</label>
                            <input type="hidden" id="officeid" class="form-control" />
                            <input id="officename" class="form-control" placeholder="Enter DO Name" required="true" />
                        </div>

                        <!-- Officer Name Field -->
                        <div class="form-group mb-3">
                            <label>Officer Name:</label>
                            <input id="officername" class="form-control" placeholder="Enter Officer Name" required="true" />
                        </div>

                        <!-- Email Field -->
                        <div class="form-group mb-3">
                            <label>Email:</label>
                            <input id="email" class="form-control" placeholder="Enter Email" required="true" />
                        </div>

                        <!-- Mobile Field -->
                        <div class="form-group mb-3">
                            <label>Mobile:</label>
                            <input id="mobile" class="form-control" placeholder="Enter Mobile" required="true" />
                        </div>

                        <!-- Submit Button -->
                        <div class="container text-center">
                            <button type="submit" class="btn btn-primary px-5" id="updateAppellateAuthority">Update</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- DO List Table -->
    <div class="container mt-5">
        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <strong>Designated Office's List</strong>
                <!--                <a class="btn btn-primary px-3" data-bs-toggle="modal" data-bs-target="#addNewAppelateModal">Add New Appellate Authority</a>-->
                <button type="button" class="btn btn-info" data-bs-toggle="offcanvas" data-bs-target="#addNewDoOffcanvas">
                    Add New DO
                </button>

            </div>
            <div class="card-body">
                <table id="dotable" class="table table-striped table-bordered">
                    <thead>
                    <tr>
                        <th>Office Name</th>
                        <th>Officer Name</th>
                        <th>Email</th>
                        <th>Mobile</th>
                        <th>Action</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="d : ${dolist}">
                        <td th:text="${d.officename}"></td>
                        <td th:text="${d.officername}"></td>
                        <td th:text="${d.email}"></td>
                        <td th:text="${d.mobile}"></td>
                        <td>
                            <div class="d-flex" style="gap: 10px;">
                                <a th:id="${d.officeid}" class="btn btn-info doedit" data-bs-toggle="modal" data-bs-target="#editAppelateModal" th:data-id="${d.officeid}">Edit</a>
                                <a th:id="${d.officeid}" class="btn btn-danger delete">Delete</a>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Include Bootstrap JS for Modal -->
<!--    <link th:href="@{/web/css/bootstrap.min.css}" rel="stylesheet">-->
    <link th:href="@{/web/css/dataTables.bootstrap5.min.css}" rel="stylesheet">
    <script th:src="@{/web/js/bootstrap.bundle.min.js}" type="text/javascript"></script>
    <script th:src="@{/web/js/jquery.dataTables.min.js}" type="text/javascript"></script>
    <script th:src="@{/web/js/dataTables.bootstrap5.min.js}" type="text/javascript"></script>
    <script th:src="@{/web/js/jsfiles/viewAuditTrails.js}" type="text/javascript"></script>
    <script th:src="@{/web/js/jsfiles/adddos.js}" type="text/javascript"></script>


    <style>
        .offcanvas-end {
           width: 800px;
        }
    </style>




</main>
</html>