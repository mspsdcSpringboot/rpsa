<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:insert="~{layout/headerFooterDynamicLayout.html}">
<main th:fragment = "content">
    <div class="container">
        <div class="card">
            <div class="card-header">
                <strong>Audit Trail Record</strong>
            </div>
            <div class="card-body">
                <table id="audittrailtable" class="table table-striped table-bordered">
                    <thead>
                    <tr>
                        <th>Audit Id</th>
                        <th>IP Address</th>
                        <th>Url</th>
                        <th>Action</th>
                        <th>Data Time</th>
                        <th>User</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="at : ${audittraillist}">
                        <td th:text="${at.auditid}"></td>
                        <td th:text="${at.ipaddress}"></td>
                        <td th:text="${at.url}"></td>
                        <td th:text="${at.actions}"></td>
                        <td th:text="${#dates.format(at.datatime, 'yyyy-MM-dd')}"></td>
                        <td>
                            <span th:if="${at.usercode != null}" th:text="${at.usercode.username}"></span>
                            <span th:if="${at.usercode == null}">Not found</span>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>



<!--    <link th:href="@{/web/css/bootstrap.min.css}" rel="stylesheet">-->
    <link th:href="@{/web/css/dataTables.bootstrap5.min.css}" rel="stylesheet">
    <script th:src="@{/web/js/bootstrap.bundle.min.js}" type="text/javascript"></script>
    <script th:src="@{/web/js/jquery.dataTables.min.js}" type="text/javascript"></script>
    <script th:src="@{/web/js/dataTables.bootstrap5.min.js}" type="text/javascript"></script>
    <script th:src="@{/web/js/jsfiles/viewAuditTrails.js}" type="text/javascript"></script>


</main>
</html>