<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:insert="~{layout/headerFooterDynamicLayout.html}">
<main th:fragment = "content">
  <div class="container-fluid">
    <div class="container">
      <br/>
      <div class="col-md-12">
        <div class="zoom">
          <div class="card">
            <!--<div class="card-header bg-success"><i class="bi bi-clipboard-data"></i></div>-->
            <div class="card-body shadow-lg rounded-3 text-center text-dark">
              <h7 class="card-title">DASHBOARD FOR VAHAN SERVICES</h7>
            </div>
          </div>
        </div>
      </div>

      <div class="container-fluid my-4">
        <div class="row">
          <div class="col-md-3">
            <div class="card">
              <div class="card-body bg-primary text-center text-white">
                <h7 class="card-title">Applications Applied</h7>
                <p class="card-text" th:text="${totalDashboard.totalApplied}"></p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card">
              <div class="card-body bg-success text-center text-white">
                <h7 class="card-title">Applications Approved</h7>
                <p class="card-text" th:text="${totalDashboard.totalApproved}"></p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card">
              <div class="card-body bg-dark text-center text-white">
                <h7 class="card-title">Applications Rejected</h7>
                <p class="card-text" th:text="${totalDashboard.totalRejected}"></p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card">
              <div class="card-body bg-warning text-center text-white">
                <h7 class="card-title text-dark">Applications Pending</h7>
                <p class="card-text text-dark" th:text="${totalDashboard.totalPending}"></p>
              </div>
            </div>
          </div>
        </div>
      </div>


      <!-- Service Wise List -->
      <div class="card" id="list">
        <div class="card-header">
          <strong> Service Wise List </strong>
        </div>
        <div class="card-body">
          <div id="loading" style="display: none;">Loading data...</div> <!-- Loading message -->
          <table id="audittrailtable" class="table table-striped table-bordered" style="width:100%">
            <thead>
            <tr>
              <th>Service Name</th>
              <th>Applied</th>
              <th>Approved</th>
              <th>Rejected</th>
              <th>Total Pending</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="service : ${serviceWiseDashboard}">
              <td>
                <a th:href="@{/secure/officewiselisvahan/{serviceCode}(serviceCode=${service.serviceCode})}"
                   th:text="${service.serviceName}"></a>
              </td>
              <td th:text="${service.serviceApplied}"></td>
              <td th:text="${service.serviceApproved}"></td>
              <td th:text="${service.serviceRejected}"></td>
              <td th:text="${service.servicePending}"></td>
            </tr>
            </tbody>

          </table>
        </div>

      </div>
    </div>
  </div>

  <link th:href="@{/web/css/dataTables.bootstrap5.min.css}" rel="stylesheet">
  <script th:src="@{/web/js/bootstrap.bundle.min.js}" type="text/javascript"></script>
  <script th:src="@{/web/js/jquery.dataTables.min.js}" type="text/javascript"></script>
  <script th:src="@{/web/js/dataTables.bootstrap5.min.js}" type="text/javascript"></script>
  <script th:src="@{/web/js/jsfiles/viewAuditTrails.js}" type="text/javascript"></script>

<!--  <script th:src="@{/web/js/jsfiles/vahandashboard.js}" type="text/javascript"></script>-->
</main>
</html>